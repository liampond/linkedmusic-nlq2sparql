PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX wdt: <http://www.wikidata.org/prop/direct/>
PREFIX wd: <http://www.wikidata.org/entity/>
PREFIX dtl: <https://linkedmusic.ca/graphs/dig-that-lick/>
PREFIX mb: <https://linkedmusic.ca/graphs/musicbrainz/>

SELECT DISTINCT ?mbWork ?mbWorkLabel
WHERE {
  # Find solos in Dig That Lick performed by Charlie Parker
  GRAPH <https://linkedmusic.ca/graphs/dig-that-lick/> {
    ?solo rdf:type dtl:Solo .
    ?solo wdt:P175 wd:Q103767 .  # Charlie Parker
    ?solo wdt:P361 ?track .      # part of track
    ?track rdf:type dtl:Track .
    ?track wdt:P2888 ?wikidataMatch .  # exact match to Wikidata
  }
  
  # Find MusicBrainz works that match the same Wikidata entity
  GRAPH <https://linkedmusic.ca/graphs/musicbrainz/> {
    ?mbWork rdf:type mb:Work .
    ?mbWork wdt:P2888 ?wikidataMatch .
    OPTIONAL { ?mbWork rdfs:label ?mbWorkLabel . }
  }
}